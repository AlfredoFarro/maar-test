(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-075d8dbc"],{"0c99":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"auth-wrapper auth-v1 px-2"},[a("div",{staticClass:"auth-inner py-2"},[a("b-card",{staticClass:"mb-0 px-1 py-1 px-lg-4 py-lg-3",attrs:{"no-body":""}},[a("b-card-title",{staticClass:"mb-1 font-weight-bold text-center d-flex flex-column align-items-center",attrs:{"title-tag":"h2"}},[a("img",{staticClass:"img_login",attrs:{src:r("af17"),alt:""}}),e._v(" TARJETA MAAR - Registro ")]),a("validation-observer",{ref:"registerForm",scopedSlots:e._u([{key:"default",fn:function(t){var r=t.invalid;return[a("b-form",{staticClass:"auth-register-form mt-1",on:{submit:function(t){return t.preventDefault(),e.register.apply(null,arguments)}}},[a("b-form-group",{attrs:{label:"Nombre Completo"}},[a("validation-provider",{attrs:{name:"Nombre",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("b-form-input",{attrs:{placeholder:"Nombre completo",state:!r.length&&null},model:{value:e.fullname,callback:function(t){e.fullname=t},expression:"fullname"}}),a("small",{staticClass:"text-danger"},[e._v(e._s(r[0]))])]}}],null,!0)})],1),a("b-form-group",{attrs:{label:"Nro de Documento"}},[a("validation-provider",{attrs:{name:"Documento",rules:"required|numeric",vid:"document"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("b-form-input",{attrs:{placeholder:"Documento",state:!r.length&&null},model:{value:e.document,callback:function(t){e.document=t},expression:"document"}}),a("small",{staticClass:"text-danger"},[e._v(e._s(r[0]))])]}}],null,!0)})],1),a("b-form-group",{attrs:{label:"Confirmar Nro de Documento"}},[a("validation-provider",{attrs:{name:"Confirmar Documento",rules:"required|confirmed:document"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("b-form-input",{attrs:{placeholder:"Confirmar Documento",state:!r.length&&null},model:{value:e.confirmDocument,callback:function(t){e.confirmDocument=t},expression:"confirmDocument"}}),a("small",{staticClass:"text-danger"},[e._v(e._s(r[0]))])]}}],null,!0)})],1),a("b-form-group",{attrs:{label:"Correo"}},[a("validation-provider",{attrs:{name:"Correo",rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("b-form-input",{attrs:{placeholder:"Correo",state:!r.length&&null},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("small",{staticClass:"text-danger"},[e._v(e._s(r[0]))])]}}],null,!0)})],1),a("b-form-group",{attrs:{label:"Contraseña"}},[a("validation-provider",{attrs:{name:"Contraseña",rules:"required|min:6",vid:"password"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("b-form-input",{attrs:{type:e.passwordFieldType,placeholder:"Contraseña",state:!r.length&&null},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("small",{staticClass:"text-danger"},[e._v(e._s(r[0]))])]}}],null,!0)})],1),a("b-form-group",{attrs:{label:"Confirmar Contraseña"}},[a("validation-provider",{attrs:{name:"Confirmar Contraseña",rules:"required|confirmed:password"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("b-form-input",{attrs:{type:e.passwordFieldType,placeholder:"Confirmar Contraseña",state:!r.length&&null},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}}),a("small",{staticClass:"text-danger"},[e._v(e._s(r[0]))])]}}],null,!0)})],1),a("b-button",{attrs:{variant:"primary",type:"submit",block:"",disabled:r}},[e._v(" Registrarse ")])],1)]}}])})],1),a("b-modal",{attrs:{id:"verification-modal",title:"Verificación requerida","hide-footer":"",centered:""},model:{value:e.showVerificationModal,callback:function(t){e.showVerificationModal=t},expression:"showVerificationModal"}},[a("p",[e._v("Ingrese el código de verificación enviado a su correo.")]),a("b-form",{on:{submit:function(t){return t.preventDefault(),e.verifyCode.apply(null,arguments)}}},[a("b-form-group",{attrs:{label:"Código de verificación"}},[a("b-form-input",{attrs:{placeholder:"Ej: 123456"},model:{value:e.verificationCode,callback:function(t){e.verificationCode=t},expression:"verificationCode"}})],1),a("div",{staticClass:"d-flex justify-content-end"},[a("b-button",{staticClass:"mr-1",attrs:{type:"submit",variant:"primary"},on:{click:e.verifyCode}},[e._v("Verificar")]),a("b-button",{attrs:{variant:"secondary"},on:{click:function(t){e.showVerificationModal=!1}}},[e._v("Cancelar")])],1)],1)],1)],1)])},o=[],n=r("c7eb"),i=r("1da1"),s=(r("498a"),r("7bb1")),l=r("4c93"),c=r("35ca");Object(s["c"])("required",l["n"]),Object(s["c"])("email",l["h"]),Object(s["c"])("numeric",l["l"]),Object(s["c"])("min",l["k"]),Object(s["c"])("confirmed",l["f"]);var u={components:{ValidationObserver:s["a"],ValidationProvider:s["b"]},data:function(){return{passwordFieldType:"password",fullname:"",document:"",confirmDocument:"",email:"",password:"",confirmPassword:"",showVerificationModal:!1,verificationCode:""}},methods:{register:function(){var e=this;this.$refs.registerForm.validate().then(function(){var t=Object(i["a"])(Object(n["a"])().mark((function t(r){var a;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=8;break}return t.next=3,c["a"].register({fullname:e.fullname,document:e.document,email:e.email,password:e.password},e.$store);case 3:a=t.sent,console.log("response",a),localStorage.setItem("document",e.document),localStorage.setItem("activationCode",a.data.code),e.showVerificationModal=!0;case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},verifyCode:function(){var e=this;return Object(i["a"])(Object(n["a"])().mark((function t(){var r,a,o;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.verificationCode.trim()){t.next=3;break}return alert("Por favor ingresa el código de verificación."),t.abrupt("return");case 3:if(r=localStorage.getItem("activationCode"),e.verificationCode!==r){t.next=15;break}return a={document:e.document,code:r},t.next=8,c["a"].confirm(a,e.$store);case 8:o=t.sent,console.log("response:",o),alert("Código verificado correctamente ✅"),e.showVerificationModal=!1,e.$router.push("/login"),t.next=16;break;case 15:alert("El código ingresado no es correcto ❌");case 16:e.showVerificationModal=!1;case 17:case"end":return t.stop()}}),t)})))()}}},d=u,f=(r("91ae"),r("2877")),m=Object(f["a"])(d,a,o,!1,null,"692c663c",null);t["default"]=m.exports},"91ae":function(e,t,r){"use strict";r("fad7")},af17:function(e,t,r){e.exports=r.p+"img/logo-jjc-grupo.b4538dfe.svg"},fad7:function(e,t,r){}}]);
//# sourceMappingURL=chunk-075d8dbc.d4689fcc.js.map