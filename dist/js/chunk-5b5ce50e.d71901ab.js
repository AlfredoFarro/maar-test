(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b5ce50e"],{"3aa1":function(e,t,o){e.exports=o.p+"img/JJC.d525a53c.jpg"},"57c0":function(e,t,o){"use strict";o("b75f")},"924f":function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"w-100 p-2"},[o("b-overlay",{attrs:{variant:"white",show:e.showLoading,"spinner-variant":"primary",blur:"0",opacity:".75",rounded:"sm"}},[o("b-row",{staticClass:"containerSelect"},[o("b-col",{staticClass:"columnStyle"},[o("b-button",{staticClass:"mb-2 btn_log",attrs:{size:"lg",disabled:!e.userData.role_user[0].is_restriction||"user-office"==e.userData.role_user[0].role_restriction||"user-collection"==e.userData.role_user[0].role_restriction},on:{click:function(t){return e.goSelectProyect("Restricciones")}}},[e._v("Restricciones")]),o("b-button",{staticClass:"mb-2 btn_log",attrs:{size:"lg",disabled:""},on:{click:function(t){return e.goSelectProyect("RFI")}}},[e._v("RFI")]),o("b-button",{staticClass:"mb-2 btn_log",attrs:{size:"lg",disabled:!e.userData.role_user[0].is_lesson},on:{click:function(t){return e.goSelectProyect("Lecciones")}}},[e._v("Lecciones Aprendidas")]),o("b-button",{staticClass:"mb-2 btn_log",attrs:{size:"lg",disabled:"admin"!=e.userData.role_user[0].role_restriction&&"user-office"!=e.userData.role_user[0].role_restriction&&"user-collection"!=e.userData.role_user[0].role_restriction},on:{click:function(t){return e.goSelectProyect("Corporativo")}}},[e._v("Corporativo")])],1),o("b-col",{staticClass:"img_team"},[o("img",{staticClass:"img_class",staticStyle:{"margin-bottom":"10px"},attrs:{src:e.sideImg,alt:"Grupo JJC"}}),"admin"==e.userData.role_user[0].role_restriction?o("b-form-group",[e.showPhotoInputs?o("b-form-file",{staticStyle:{width:"500px","margin-right":"10px"},attrs:{placeholder:"Seleccione una nueva foto o arrastre aqui...","drop-placeholder":"Arrastre aqui...",id:"file"},model:{value:e.newPhoto,callback:function(t){e.newPhoto=t},expression:"newPhoto"}}):e._e(),e.showPhotoInputs?o("b-button",{staticStyle:{"margin-right":"10px"},attrs:{disabled:!e.newPhoto,variant:"success"},on:{click:e.saveFile}},[e._v(" Guardar ")]):e._e(),o("b-button",{attrs:{size:"md"},on:{click:e.togglePhotoInputs}},[e._v(" "+e._s(e.showPhotoInputs?"Cancelar":"Cambiar Foto")+" ")])],1):e._e()],1)],1)],1)],1)},s=[],a=o("c7eb"),n=o("1da1"),i=(o("a4d3"),o("e01a"),o("b64b"),o("5f5b")),c=o("b1e0"),u=o("2616"),l=o("2b0e"),p=o("b828"),g=o("e009"),d=o("4a7a"),h=o.n(d),b=o("c3f1"),f=o("a602"),m={getPhoto:function(e,t){return Object(n["a"])(Object(a["a"])().mark((function o(){var r;return Object(a["a"])().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,f["a"].get("image-front"+e,t);case 2:return r=o.sent,o.abrupt("return",r);case 4:case"end":return o.stop()}}),o)})))()},createPhoto:function(e,t){return Object(n["a"])(Object(a["a"])().mark((function o(){var r;return Object(a["a"])().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,f["a"].post("image-front",e,t);case 2:return r=o.sent,o.abrupt("return",r);case 4:case"end":return o.stop()}}),o)})))()}},_=m,w="http://146.190.149.79/api";l["default"].use(i["a"]),l["default"].use(c["a"]),l["default"].use(p["a"]);var v={directives:{"b-tooltip":u["a"],Ripple:g["a"]},data:function(){return{showLoading:!1,api_url:w,project_id:JSON.parse(localStorage.getItem("project_id")),userData:JSON.parse(localStorage.getItem("userData")),id:0,sort:"id",order:"desc",apiurl:w,sideImg:null,newPhoto:null,showPhotoInputs:!1}},components:{vSelect:h.a},mounted:function(){var e=this;return Object(n["a"])(Object(a["a"])().mark((function t(){var r;return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("USER DATA",e.userData),t.next=3,_.getPhoto("",e.$store);case 3:r=t.sent,console.log("RESP PHOTO",r),r.data?e.sideImg=e.api_url+r.data.image_url:e.sideImg=o("3aa1");case 6:case"end":return t.stop()}}),t)})))()},methods:{saveFile:function(){var e=this;return Object(n["a"])(Object(a["a"])().mark((function t(){var o,r;return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.showLoading=!0,console.log(e.sideImg),console.log(e.newPhoto),o=new FormData,o.append("file",e.newPhoto),t.next=7,_.createPhoto(o,e.$store);case 7:r=t.sent,console.log("RESP PHOTO CREATE",r),r.status&&(e.sideImg=e.api_url+r.data.image_url),console.log("SIDE IMAGE",e.sideImg),e.showLoading=!1;case 12:case"end":return t.stop()}}),t)})))()},togglePhotoInputs:function(){this.showPhotoInputs=!this.showPhotoInputs,this.newPhoto=null},goSelectProyect:function(e){localStorage.setItem("log_type",e);var t=localStorage.getItem("project_id");console.log("projectId",t);var o=localStorage.getItem("userData")?JSON.parse(localStorage.getItem("userData")).id:null,r=localStorage.getItem("userData")?JSON.parse(localStorage.getItem("userData")).role_user[0].role_restriction:null;"Lecciones"==e?(Object(b["a"])(t,o,r),this.$router.push({name:"lecciones"})):"Corporativo"==e?"user-office"==this.userData.role_user[0].role_restriction?(console.log("alertas"),this.$router.push({name:"alertas-cowner"})):"user-collection"==this.userData.role_user[0].role_restriction?(console.log("alertas"),this.$router.push({name:"graph-projects"})):this.$router.push({name:"proyectos"}):(1==this.userData.projects.length&&(console.log("ENTER CONSOLE"),localStorage.setItem("project_name",this.userData.projects[0].description),localStorage.setItem("project_id",this.userData.projects[0].id)),this.$router.push({name:"seleccionar-proyecto"}))}}},P=v,S=(o("57c0"),o("2877")),I=Object(S["a"])(P,r,s,!1,null,null,null);t["default"]=I.exports},b75f:function(e,t,o){},b828:function(e,t,o){"use strict";
/*!
 * vue-bus v1.2.1
 * https://github.com/yangmingshan/vue-bus
 * @license MIT
 */function r(e){var t=new e;Object.defineProperties(t,{on:{get:function(){return this.$on.bind(this)}},once:{get:function(){return this.$once.bind(this)}},off:{get:function(){return this.$off.bind(this)}},emit:{get:function(){return this.$emit.bind(this)}}}),Object.defineProperty(e,"bus",{get:function(){return t}}),Object.defineProperty(e.prototype,"$bus",{get:function(){return t}})}"undefined"!==typeof window&&window.Vue&&window.Vue.use(r),t["a"]=r}}]);
//# sourceMappingURL=chunk-5b5ce50e.d71901ab.js.map